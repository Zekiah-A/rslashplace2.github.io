# Rplace.live custom server manual.

# ⚠️ Note: Alternative server is out! Check out [the new official server software](https://github.com/Zekiah-A/RplaceServer) for a quick and easy way to set up rplace yourself.
 - Alternative server download can be found at (https://github.com/Zekiah-A/RplaceServer/releases)
___


## Preramble:
Setting up a custom server that users can connect to via the posts menu is very possible provided you follow the rules outlined in the [README](./README.md), this guide will help you along the way of setting up a shiny custom rplace server, with whatever canvas, chat or cooldown rules you like!

### Important notes:
 - To run a rplace custom server, you require:
    * Access to a `server` or `PC` capable of running bun (support may only be available on windows under WSL). 
    * Access to your routers/server's `port forwarding` rules in order to connect your custom server to the internet.
    * A `web domain` for https connections (will be outlined later in this document).
 - If you encounter a bug, please ask us on the discord or submit a github issue.
 - Make sure that you are running the latest versions of runtimes and libraries, such as the latest bun, or you may encounter issues.
 - Read the instructions *carefully*, the order of what you do *does* matter.

## Setting up the server:
1. Get a web domain, this can be done by visiting free domain sites such as noip.com:
![image](https://user-images.githubusercontent.com/73035340/184674498-37853563-70b9-4f8a-a695-7eb38c99441b.png)
2. Port forward ports 80 (will be used by certbot), 443 (web socket), 8080 (place file server) to the computer you decide to use to host the server
![image](https://user-images.githubusercontent.com/73035340/184675516-b4f6063c-0e27-4ecb-8004-47dded1d0839.png)
![image](https://user-images.githubusercontent.com/73035340/184676979-6683220f-b2f9-44d6-b168-91b18cef22be.png)

3. Install the latest versions of `certbot`, `bun`, and `git` on your system.

![image](https://user-images.githubusercontent.com/73035340/184677594-f7386cb1-2d33-4ea9-b921-02a46e1703fc.png)

4. Use certbot to set up the keys and certificates on the computer you would like to use

![image](https://user-images.githubusercontent.com/73035340/184679276-f5d48324-beb7-421e-a58f-1749705ee75f.png)

5. Clone the project with git. This can be done with `git clone https://github.com/rplacelive/game`

6. Enter the cloned project directory with `cd game`. Run `bun i` to install all required packages respectively.

7. Run the server with `bun run server.js`

8. On initial run, the server will ask you to configure a server_config.json file. Insert all required details, such as the certificate and key paths generated by certbot, the github key and repo which canvas backups should be pushed to and all other required information.

9. Once configured, run the server again with `bun run server.js`. If your certificate and key have been located in root directories, administator privilages may be required, this can be solved by running bun with `sudo`, or using an administrator terminal session on windows.

10. If you encountered no errors, Bon Voilà, you have set up an rplace custom server acessable from in the game.

11. If you did encounter errors, feel free to make a githb issue, or contact us on [discord](https://rplace.live/discord), and we will try our best to assist you!
